# GreenFlow 프로덕션 환경 설정
# 배포 날짜: 2026-02-11

# 환경 식별
NODE_ENV=production
APP_ENV=production

# API 설정
API_PORT=3000
API_PREFIX=/api/v2
API_BASE_URL=https://greenflow-api.dev/api/v2

# 프론트엔드
VITE_API_BASE_URL=https://greenflow-api.dev/api/v2
FRONTEND_URL=https://greenflow.dev

# 데이터베이스 (AWS RDS - Multi-AZ)
DATABASE_HOST=prod-db.example.com
DATABASE_PORT=5432
DATABASE_NAME=glec_prod
DATABASE_USER=glec_prod_user
DATABASE_PASSWORD=CHANGE_IN_PRODUCTION
DATABASE_URL=postgres://glec_prod_user:CHANGE_IN_PRODUCTION@prod-db.example.com:5432/glec_prod
DATABASE_SSL=true
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20

# Redis (AWS ElastiCache - Cluster Mode)
REDIS_HOST=prod-redis.example.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_IN_PRODUCTION
REDIS_URL=redis://:CHANGE_IN_PRODUCTION@prod-redis.example.com:6379
REDIS_CLUSTER=true
REDIS_SENTINEL=true

# AWS
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=PRODUCTION_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=PRODUCTION_SECRET_KEY
AWS_ENDPOINT_URL=https://s3.amazonaws.com
LOCALSTACK_ENABLED=false

# S3 버킷
S3_BUCKET=greenflow-prod-bucket
S3_REGION=us-east-1
S3_UPLOAD_DIR=uploads
S3_PUBLIC_URL=https://cdn.greenflow.dev

# JWT (보안)
JWT_SECRET=production-jwt-secret-key-VERY-SECURE
JWT_EXPIRY=24h
JWT_REFRESH_SECRET=production-refresh-secret-VERY-SECURE
JWT_REFRESH_EXPIRY=7d

# CORS
CORS_ORIGIN=https://greenflow.dev,https://www.greenflow.dev

# 로깅
LOG_LEVEL=info
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# 모니터링 - Sentry
SENTRY_DSN=https://your-production-sentry-key@sentry.io/your-project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACE_SAMPLE_RATE=0.1
SENTRY_RELEASE=v1.0.0

# 모니터링 - Google Analytics
VITE_GA_MEASUREMENT_ID=G-PRODUCTION_MEASUREMENT_ID

# 에러 추적
ERROR_TRACKING_ENABLED=true
ERROR_NOTIFICATION_EMAIL=alerts@greenflow.dev

# 이메일 (SendGrid 또는 AWS SES)
SENDGRID_API_KEY=SG.PRODUCTION_KEY
EMAIL_FROM=noreply@greenflow.dev
EMAIL_REPLY_TO=support@greenflow.dev
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=SG.PRODUCTION_KEY

# 보안
HELMET_ENABLED=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# 캐싱
CACHE_TTL_SHORT=300          # 5분
CACHE_TTL_MEDIUM=3600        # 1시간
CACHE_TTL_LONG=86400         # 1일
CACHE_ENABLED=true

# 세션
SESSION_SECRET=production-session-secret-VERY-SECURE
SESSION_TIMEOUT=3600

# 서드파티 API
GOOGLE_API_KEY=PRODUCTION_GOOGLE_API_KEY
GOOGLE_MAP_API_KEY=PRODUCTION_GOOGLE_MAP_API_KEY

# 결제 (Stripe 등)
STRIPE_PUBLIC_KEY=pk_live_PRODUCTION_KEY
STRIPE_SECRET_KEY=sk_live_PRODUCTION_KEY
STRIPE_WEBHOOK_SECRET=whsec_PRODUCTION_SECRET

# 기타
DEBUG=false
MAINTENANCE_MODE=false
FEATURE_FLAGS_ENABLED=true
