# TODO — GreenFlow (녹색 물류 플랫폼)

목표: **Fleet(화물차 편대) 단위 탄소집약도(gCO₂e/t·km)를 투명하게 비교/공개**하고,
- 화주기업은 탄소효율이 높은 운송 서비스를 **입찰/오더로 구매**하여 **Scope 3**를 감축
- 물류/주선사는 **ISO-14083 국제인증 탄소 인프라 기술**로 **검증 가능한 탄소 데이터**를 대시보드/API로 제공하여 **프리미엄 서비스/오더**를 수주
- 화물차주는 **ISO-14083 기술 탑재 카본 타코그래프(옵션)**로 실측 데이터를 공개해 **그린라벨 오더**를 얻고, 운행 개선으로 탄소지표/수익을 개선

---

## 0) 현재 상태(완료)
- [x] 랜딩: 사용자별 페이지 라우팅
  - [x] `/` 3자 선택 게이트(화주/물류·주선/차주)
  - [x] `/shipper`, `/carrier`, `/owner`
- [x] 메시지 고도화
  - [x] **ISO-14083 기반 탄소 인프라**를 핵심 신뢰 축으로 반영
  - [x] **데이터 출처 등급**: 1등급=실측(ISO-14083 기술 기반), 2등급=모델링
- [x] E2E 스모크(랜딩)
  - [x] Playwright로 `/`, `/shipper`, `/carrier`, `/owner` 로드 + 스크린샷 저장

---

## 1) 공통(Foundation) — 대시보드 제작 기반
- [ ] 정보 구조(IA): 공통 네비(대시보드/리포트/오더/설정) + 역할별 메뉴 차이
- [ ] 지표 사전 정의
  - [ ] 탄소집약도: gCO₂e/t·km (기간/조건 표준화 규칙)
  - [ ] 신뢰도: ISO-14083 준수, 데이터 커버리지(%), 출처 등급(1/2)
  - [ ] 운영: OTIF, 리드타임, 클레임, 비용, 공차율, 대기시간, 적재율
- [ ] 데이터 모델(목업)
  - [ ] Shipper: 사업부/거점/노선/물량/공급사/ Fleet /오더
  - [ ] Carrier: 고객(화주)/계약/노선/ Fleet /차량/오더
  - [ ] Owner: 차량/운행세션/오더/정산/평판/탄소포인트
- [ ] 공통 UI 컴포넌트
  - [ ] KPI 카드, 비교 테이블, 트렌드(스파크라인), 배지(ISO/실측1등급/모델링2등급/커버리지)
  - [ ] 필터 바(기간/노선/거점/차량타입)
  - [ ] Empty/Loading/Error 상태

---

## 2) 대시보드: 화주기업(Shipper)
### 핵심 질문
- [ ] Scope 3가 어디서 발생하는가(거점/노선/공급사/Fleet)?
- [ ] 동일 조건에서 최저 탄소집약도 Fleet은?
- [ ] Threshold/가중치 적용 시 비용/리드타임 영향은?

### 화면/위젯(목업)
- [ ] Overview: Scope 3 집계 + 평균 집약도 + 목표 대비 + Top 기여자
- [ ] Fleet 비교 테이블: 집약도/가격/OTIF/출처등급/커버리지
- [ ] 구매 정책 시뮬레이터: Threshold 적용 시 선택 가능 Fleet 수/비용 영향
- [ ] CTA: “탄소 기준 입찰 생성”, “그린라벨 오더 발행”

---

## 3) 대시보드: 물류기업/주선(Carrier/Broker)
### 핵심 질문
- [ ] ISO-14083 기반 신뢰를 어떻게 수주로 연결할까?
- [ ] 실측 커버리지를 어떻게 늘릴까?
- [ ] 어떤 운영 개선이 탄소집약도를 가장 줄일까?

### 화면/위젯(목업)
- [ ] Account: 화주별 성과(탄소/OTIF/클레임/매출/물량)
- [ ] Fleet 성과: 집약도 분포 + 커버리지 + 출처등급(1/2)
- [ ] 프리미엄(그린라벨) 파이프라인
- [ ] CTA: “화주용 탄소 리포트 공유”, “검증 상태/산식 버전 업데이트”

---

## 4) 대시보드: 화물차주(Owner/Driver)
### 핵심 질문
- [ ] 실측(1등급) 공개로 그린라벨 오더를 어떻게 얻나?
- [ ] 운행 습관 개선이 집약도에 미치는 영향은?
- [ ] 정산이 투명한가?

### 화면/위젯(목업)
- [ ] 오늘/이번주: 내 집약도 + 개선 점수(정속/공회전/급가속) + 그린라벨 적격 진행률
- [ ] 오더/수익: 그린라벨 배지 + 예상 수익/정산 상태 + 증빙 업로드
- [ ] CTA: “카본 타코그래프 연결/상태 확인(옵션)”, “운행 개선 미션 시작”

---

## 5) 구현(코드) 우선순위
- [ ] 라우팅 추가: `/dashboard/shipper`, `/dashboard/carrier`, `/dashboard/owner`
- [ ] 대시보드 레이아웃/네비(역할 전환 스위처 + 모바일)
- [ ] 목업 데이터(JSON) + 필터(기간/노선) URL query 동기화
- [ ] Playwright E2E 스모크(대시보드)
  - [ ] 3개 라우트 로드
  - [ ] KPI 카드 존재 확인
  - [ ] 스크린샷 저장
